<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>chihaya: chihaya/sparse_matrix.hpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">chihaya
   </div>
   <div id="projectbrief">Validating delayed array operations in HDF5</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_98013a9308bc8a3217b5ee75e096a657.html">chihaya</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">sparse_matrix.hpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Validation for compressed sparse column matrices.  
<a href="#details">More...</a></p>

<p><a href="sparse__matrix_8hpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aded30ba99ca2e6642bc933ec604e9a40"><td class="memItemLeft" align="right" valign="top">ArrayDetails&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sparse__matrix_8hpp.html#aded30ba99ca2e6642bc933ec604e9a40">chihaya::validate_sparse_matrix</a> (const H5::Group &amp;handle, const std::string &amp;name, const Version &amp;version)</td></tr>
<tr class="separator:aded30ba99ca2e6642bc933ec604e9a40"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Validation for compressed sparse column matrices. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aded30ba99ca2e6642bc933ec604e9a40" name="aded30ba99ca2e6642bc933ec604e9a40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aded30ba99ca2e6642bc933ec604e9a40">&#9670;&#160;</a></span>validate_sparse_matrix()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ArrayDetails chihaya::validate_sparse_matrix </td>
          <td>(</td>
          <td class="paramtype">const H5::Group &amp;&#160;</td>
          <td class="paramname"><em>handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structchihaya_1_1Version.html">Version</a> &amp;&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Validate a sparse matrix in a HDF5 file. This is stored in the compressed sparse column layout, using the same notation as the <a href="https://support.10xgenomics.com/single-cell-gene-expression/software/pipelines/latest/advanced/h5_matrices">10X Genomics feature barcode matrices</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>An open handle on a HDF5 group representing a sparse matrix. </td></tr>
    <tr><td class="paramname">name</td><td>Name of the group inside the file. </td></tr>
    <tr><td class="paramname">version</td><td>Version of the <b>chihaya</b> specification.</td></tr>
  </table>
  </dd>
</dl>
<p>A sparse matrix is represented as a HDF5 group with the following attributes:</p>
<ul>
<li><code>delayed_type</code> should be a scalar string <code>"array"</code>.</li>
<li><code>delayed_array</code> should be a scalar string <code>"sparse matrix"</code>.</li>
</ul>
<p >Inside the group, we expect:</p>
<ul>
<li>A <code>shape</code> 1-dimensional integer dataset, containing the dimensions of the matrix. The first entry represents the number of rows and the second entry represents the number of columns. The exact integer representation is left to the implementation.</li>
<li>A <code>data</code> 1-dimensional dataset, containing the values of the non-zero elements. This should contain integers or floats, though the exact type representation is left to the implementation.</li>
<li>An <code>indices</code> 1-dimensional dataset, containing the row indices for the non-zero elements. This should have the same length as <code>data</code> and should contain integers in <code>[0, NR)</code> where <code>NR</code> is the number of rows from <code>shape</code>. Entries should be strictly increasing within each column, based on the ranges defined by <code>indptr</code>. The exact integer representation is left to the implementation.</li>
<li>An <code>indptr</code> 1-dimensional dataset, containing column pointers into the <code>indices</code> vector. This should have length equal to <code>NC + 1</code> where <code>NC</code> is the number of columns from <code>shape</code>. The first element should be equal to zero and the last element should be equal to the length of <code>data</code>. The exact integer representation is left to the implementation.</li>
</ul>
<p >The group may also contain:</p>
<ul>
<li>A <code>dimnames</code> group, representing a list (see <code>ListDetails</code>) of length equal to the number of dimensions in the <code>seed</code>. Each child entry corresponds to a dimension of <code>seed</code> and contains the names along that dimension. Missing entries indicate that no names are attached to its dimension. Each (non-missing) entry should be a 1-dimensional string dataset of length equal to the extent of its dimension. The exact string representation is left to the implementation.</li>
</ul>
<p >If <code>data</code> is an integer dataset, it may contain an <code>is_boolean</code> attribute. This should be an integer scalar; if non-zero, it indicates that the contents of <code>data</code> should be treated as booleans where zeros are falsey and non-zeros are truthy.</p>
<p ><code>data</code> may contain a <code>missing_placeholder</code> attribute. This should be a scalar dataset of the same type class as <code>data</code>, specifying the placeholder value used for all missing elements, i.e., any elements in <code>data</code> with the same value as the placeholder should be treated as missing. (Note that, for floating-point datasets, the placeholder itself may be NaN, so byte-wise comparison should be used when checking for missingness.) </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5
</small></address>
</body>
</html>
